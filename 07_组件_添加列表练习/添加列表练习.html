<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="ex"></div>

<script src="../js/react.development.js"></script>
<script src="../js/react-dom.development.js"></script>
<!--要使用 propTypes，必须引入这个包！-->
<script src="../js/prop-types.js"></script>
<script src="../js/babel.min.js"></script>

<script type="text/babel">
    class App extends React.Component{
        state = {
            todos: [1,2,3,4]
        }

        addToDo() {
            
        }

        render() {
            const todos = this.state.todos

            return (
                <div>
                    <Add todos={todos} addToDo={this.addToDo}/>
                    <List todos={todos}/>
                </div>
            )
        }
    }

    class Add extends React.Component{
        static propTypes =  {
            todos : PropTypes.array.isRequired
        }


        addToDo(){
            const inputValue = this.contentInput.value
            const {todos} = this.props
            todos.unshift(inputValue)

        }

        render() {
            const {todos} = this.props

            return (
                <div>
                    <input type="text" ref={input => this.contentInput = input}/>
                    <button onClick={this.addToDo}>Add#{todos.length}</button>
                </div>
            )

        }
    }

    class List extends React.Component{
        static propTypes =  {
            todos : PropTypes.array.isRequired
        }

        render() {
            const {todos} = this.props

            return (
                <ul>
                {
                    todos.map((todo, index) => {
                        return <li key={index}>{todo}</li>
                    })
                }
                </ul>
            )
        }
    }

    ReactDOM.render(<App />, document.getElementById('ex'))
</script>
</body>
</html>